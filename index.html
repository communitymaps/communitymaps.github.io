<!DOCTYPE html>
<html>
    <head>
    <title>MetroMaps</title>
        
    
        
    <link rel="stylesheet" href="style.css" media="screen" />
    <meta charset=utf-8 />    
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.css' rel='stylesheet' />
     
        
    <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
        
    <style>
        
        #text4box1 {
            z-index: 100;
            color: black;
            font-size: 12px;
            font-family: sans-serif;
            float: left;
            margin-top: 19px;
            margin-left: 25px;
        }
        #text4box5 {
            z-index: 100;
            color: black;
            font-size: 12px;
            font-family: sans-serif;
            float: left;
            margin-top: 19px;
            margin-right: 10px;
        }
        
        #box1 {
        z-index: 100;
        background-color:#DCDFE2;
        opacity: 1;
        height: 25px;
        width:  25px;
        float: left;
        margin-top: 15px;
        margin-bottom: 15px;
        margin-left: 5px;
        
        
        }
        #box2 {
        z-index: 100;
        background-color:#BED2E4;
        opacity: 1;
        height: 25px;
        width: 25px;
        float: left;
        margin-top: 15px;
        margin-bottom: 15px;
       
        }
        #box3 {
        z-index: 100;
        background-color:#6CA9CC;
        opacity: 1;
        height: 25px;
        width: 25px;
        float: left;
        margin-top: 15px;
        margin-bottom: 15px;
       
        }
        #box4 {
        z-index: 100;
        background-color: #2672AF;
        opacity: 1;
        height: 25px;
        width: 25px;
        float: left;
        margin-top: 15px;
        margin-bottom: 15px;
        
        }
        #box5 {
        z-index: 100;
        background-color: #072C64;
        opacity: 1;
        height: 25px;
        width: 25px;
        float: left;
        margin-top: 15px;
        margin-bottom: 15px;
        margin-right: 5px;
       
        }
       
        
        #boxbox {
        position: absolute;
        top: 815px;
        right: 50px;
        z-index: 98;
        background-color:rgba(255,255,255,.9);
        height: 120px;
        width: 300px;
        }
        #boxboxtext {
        z-index: 102;
        color: black;
        font-family: sans-serif;
        font-size: 15px;
        padding: 10px;
        }
        
        
    #container {
      position: relative;
      height: 520px;
      margin-top: 20px;
      margin-right: 10px;
      margin-left: 10px;
      margin-bottom: 20px;
         }
    #subhead {
        font-size: 18px;
        font-style:italic;
        }
        
    #text {
     position: relative;
     margin-top: 20px;
     margin-right: 20px;
     margin-left: 20px;
     margin-bottom: 20px;
     font-family: serif;
     color: black;
        }
    
    #map { 
      position:absolute; 
     
      height: 520px;
      width:100%; }
        
    .leaflet-popup-content-wrapper {
      background: #707070;
        }

    .leaflet-popup-tip-container {
      background: #707070, 0, 0;
        }
        
    .leaflet-popup-tip {
      border-left:5px solid transparent;
      border-right:5px solid transparent;
      border-top:20px solid #707070;
        }

    .leaflet-popup {
      color: #FDFF06;
      font-size: 15px;
        }
    #popwrap {
      background-color: #FDFF06;
      color: #707070;
      padding: 10px;
      font-weight: bold;
        }        
    
        
    </style>
    
    </head>
    <body>
        <p>
        <img src="http://i.imgur.com/BBX8X10.jpg?1"
        alt="Pdoc" height="291" width="100%"/>
        </p>
        <p>
        <a href="http://communitymaps.github.io/index.html" class="button">Home</a>
        <a href="http://communitymaps.github.io/index.html" class="button">About</a>
        <a href="http://communitymaps.github.io/dropmetro.html" class="button">Data Downloads</a>
        </p>
        <div id="page-wrap">
        <h1>Mapping Demographics in Metropolitan Detroit</h1>
        </div>
        
    
        
        
        
   
    <div id='container'>
        <div id='map'></div>
    </div>
        
    <div id='boxbox'>
        
    <div id='boxboxtext'>African American Population by block group, 2000 and 2010 U.S. Census</div>
    <div id='text4box1'>Under 14%</div>
   
    <div id='box1'></div>
    <div id='box2'></div>
    <div id='box3'></div>
    <div id='box4'></div>
    <div id='box5'></div>
   
    <div id='text4box5'>Over 75%</div>
        
    </div> 
       
    
    <div id='page-wrap'><h1>
    Find your city on the map. Click it to find the African American population, median income and total population. Use the control  <img src="http://i.imgur.com/Z37qWsT.jpg"
    alt="Pdoc" height="25" width="25"/>  in the upper right corner of the map to switch from 2010 to 2000 census data.<br><div id="subhead">Note: the popup windows give information from the 2010 census. Not every city is currently available. More will be added soon.</div>
    </h1></div>
    <div id='text'>
        <i> Note: info windows give information from the 2010 census. Not every city is currently available. More will be added soon. </i>  
    </div>    
    
        
        
   
        
    
    
        
    <script>
    var map = L.map('map').setView([42.431572, -83.294734], 10);
   
        
        

  
        
        
  var CensusA = L.tileLayer('https://api.mapbox.com/styles/v1/mstepniak/cinamx0jk000kackp9r7jjbsi/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibXN0ZXBuaWFrIiwiYSI6ImNpbXF6eHZnNDAwdGF2aG00bHJtbWFweTkifQ.7xXe45mpEC-L6e8kh1fJvA', {
        tileSize: 512,
        zoomOffset: -1,
        attribution: '<a href="https://www.mapbox.com/map-feedback/">Mapbox</a>  <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'     
  });
  var CensusB = L.tileLayer('https://api.mapbox.com/styles/v1/mstepniak/cinby8bji005db0nm4fyndkzp/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibXN0ZXBuaWFrIiwiYSI6ImNpbXF6eHZnNDAwdGF2aG00bHJtbWFweTkifQ.7xXe45mpEC-L6e8kh1fJvA', {
        tileSize: 512,
        zoomOffset: -1,
        attribution: '<a href="https://www.mapbox.com/map-feedback/">Mapbox</a>  <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(map);

  var baseLayers = {"2010": CensusB, "2000":CensusA};
  L.control.layers(baseLayers).addTo(map);

   
    $.getJSON('https://cdn.rawgit.com/communitymaps/communitymaps.github.io/master/Geojson/u.geojson', function (data) {
    L.geoJson(data, {
            
         onEachFeature: function (feature, layer){
               layer.bindPopup('<div id="popwrap">2010 Census Data for:' + '<br>' + feature.properties.NAMELSAD10 + '</div></br>' + 'Percentage African American: ' + Math.round(feature.properties.y_Pct_Blk) + '%' + '<br>' + 'Median Household Income: $' + feature.properties.x_Med_Inc + '</br>' + 'Total Population: ' + feature.properties.y_Total_);
           },
        
        
            style: {
                color: "black",
                weight: 2,
                fillOpacity: .05
            }
          }).addTo(map);
 })
        
    </script>
    
    
    </body>
</html>
